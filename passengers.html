<!doctype html>
<html lang="en">
	<head>
		<title>Passengers</title>
		<meta charset="utf-8">
	</head>
	<body>
			<script>

			var passengers = [  { name: "Jane Doloop", paid: true, ticket: "coach" },
								{ name: "Dr. Evel", paid: true, ticket: "firstclass" },
								{ name: "Sue Property", paid: false, ticket: "firstclass" },
								{ name: "John Funcall", paid: true, ticket: "premium" } ];


			function processPassengers(passengers, testFunction) {
				for (var i = 0; i < passengers.length; i++) {
					if (testFunction(passengers[i])) {
						return false;
					}
				}
				return true;
			};

			function printPassenger(passenger) {
				var message;
				if (passenger.paid) {
					message = passenger.name + " has paid. :)";
				} else {
					message = passenger.name + " has not paid. :(";
				}
				console.log(message);
				return false;
			}

			function createDrinkOrder(passenger) {
				var orderFunction;

				if (passenger.ticket === "firstclass") {
					orderFunction = function() {
						alert(passenger.name + ", would you like a cocktail or wine?");
					};
				} else if (passenger.ticket === "coach") {
					orderFunction = function() {
						alert(passenger.name + ", your choice is cola or water.");
					};
				} else {
					orderFunction = function() {
						alert(passenger.name + ", your choice is wine, cola, or water.");
					}
				}
				return orderFunction;
			};


			function createDinnerOrder(passenger) {
				var orderFunction;

				if (passenger.ticket === "firstclass") {
					orderFunction = function() {
						alert(passenger.name + ", (of first class), would you like chicken or pasta?");
					};
				} else if (passenger.ticket === "premium") {
					orderFunction = function() {
						alert(passenger.name + ", (of premium econo class), would you like a snack box or cheese plate?");
					};
				} else {
						orderFunction = function() {
							alert(passenger.name + ", (of coach class), would you like peanuts or pretzels?");
						};
				}
				return orderFunction;
			};



			function servePassengers(passengers) {
				for (var i = 0; i < passengers.length; i++){
					serveCustomer(passengers[i]);
				}
			};

			function serveCustomer(passenger) {
				var getDrinkOrderFunction = createDrinkOrder(passenger);
				var getDinnerOrderFunction = createDinnerOrder(passenger);
				getDrinkOrderFunction();
				getDinnerOrderFunction();
				getDrinkOrderFunction();
			};

			servePassengers(passengers);

			// processPassengers(passengers, printPassenger);

			</script>
	</body>
</html>
